(()=>{var t={920:t=>{var e,r,n=9007199254740991,o="[object Function]",u="[object GeneratorFunction]",c=/^(?:0|[1-9]\d*)$/,a=Object.prototype,i=a.hasOwnProperty,l=a.toString,s=a.propertyIsEnumerable,f=(e=Object.keys,r=Object,function(t){return e(r(t))}),d=Math.max,p=!s.call({valueOf:1},"valueOf");function y(t,e,r){var n=t[e];i.call(t,e)&&w(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function v(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||c.test(t))&&t>-1&&t%1==0&&t<e}function h(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||a)}function w(t,e){return t===e||t!=t&&e!=e}var b=Array.isArray;function g(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=m(t)?l.call(t):"";return e==o||e==u}(t)}function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var O,_=(O=function(t,e){if(p||h(e)||g(e))!function(t,e,r,n){r||(r={});for(var o=-1,u=e.length;++o<u;){var c=e[o];y(r,c,t[c])}}(e,function(t){return g(t)?function(t,e){var r=b(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&g(t)}(t)&&i.call(t,"callee")&&(!s.call(t,"callee")||"[object Arguments]"==l.call(t))}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var u in t)!e&&!i.call(t,u)||o&&("length"==u||v(u,n))||r.push(u);return r}(t):function(t){if(!h(t))return f(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)i.call(e,r)&&y(t,r,e[r])},function(t,e){return e=d(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=d(r.length-e,0),u=Array(o);++n<o;)u[n]=r[e+n];n=-1;for(var c=Array(e+1);++n<e;)c[n]=r[n];return c[e]=u,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,c)}}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,u=n>2?e[2]:void 0;for(o=O.length>3&&"function"==typeof o?(n--,o):void 0,u&&function(t,e,r){if(!m(r))return!1;var n=typeof e;return!!("number"==n?g(r)&&v(e,r.length):"string"==n&&e in r)&&w(r[e],t)}(e[0],e[1],u)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var c=e[r];c&&O(t,c)}return t})));t.exports=_}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var u=e[n]={exports:{}};return t[n](u,u.exports,r),u.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=window.React;var e=r(920),n=r.n(e);const o=window.wp.data,u=window.wp.compose,c=window.wp.hooks,a=window.Theater.ProductionPosttype.Slug,i=a+"_sub",l=window.Theater.ProductionPosttype.ShadowTaxonomy,s=(0,u.createHigherOrderComponent)((e=>r=>{if("wpt-production-shadow-related-query"!==r.attributes.className)return(0,t.createElement)(e,{...r});if("core/query"!==r.name)return(0,t.createElement)(e,{...r});if(0!==r.attributes.query.taxQuery[l][0])return(0,t.createElement)(e,{...r});const u=(0,o.select)("core/editor").getCurrentPost();if(a!==u.type&&i!==u.type&&!u.TAX_PRODUCTION_SHADOW)return(0,t.createElement)(e,{...r});let c=[];return a===u.type?c=[u.meta.shadow_ft_production_shadow_term_id]:i===u.type?(()=>{const t=(0,o.select)("core").getEntityRecord("postType",a,u.parent);void 0!==t&&0!==t.meta.length&&(c=[t.meta.shadow_ft_production_shadow_term_id])})():c=(0,o.useSelect)((()=>{const{getEditedPostAttribute:t}=(0,o.select)("core/editor");return t(l)}),[]),0===c.length||n()(r.attributes.query,{exclude:[u.id],taxQuery:{[l]:c}}),(0,t.createElement)(e,{...r})}),"productionShadowSubsiteRelatedQueryEngine");(0,c.addFilter)("editor.BlockListBlock","wpt/production-shadow-subsite-related-query",s,15)})()})();